import{u,r as i,s as x,j as r,L as m}from"./index-ovBpk-RT.js";import{u as p,S as f}from"./SongCard-ORRAww1V.js";import{I as j,A as y}from"./Artists-BE7LC3R-.js";const P=()=>{var e;const{id:l}=u(),o=i.useContext(x);if(!o)return;const{setTracks:c}=o,d=`/api/playlists?id=${l}&limit=100`,{loading:t,error:a,data:s}=p(d);if(i.useEffect(()=>{console.log(s)},[s]),t)return r.jsx(m,{});if(a)return r.jsx("p",{className:"Loading-Error",children:"Error in loading."});const g=()=>{!t&&!a&&s&&"songs"in s&&Array.isArray(s.songs)&&c(s.songs)};return r.jsx("div",{className:"PlaylistQuerryPage",children:!t&&!a&&s&&!Array.isArray(s)&&r.jsxs(r.Fragment,{children:[r.jsx(j,{data:s,audioSet:g}),r.jsx("h2",{children:"Songs"}),(e=s.songs)==null?void 0:e.map(n=>r.jsx(f,{result:n},n.id)),r.jsx("h2",{style:{marginTop:"30px"},children:"Artists"}),r.jsx(y,{data:s})]})})};export{P as default};
