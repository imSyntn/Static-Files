import{r as e,s as C,j as a,b as S,c as N}from"./index-ovBpk-RT.js";const D=s=>{const[o,t]=e.useState(!1),[i,n]=e.useState(!1),[c,l]=e.useState(null);return e.useEffect(()=>{(async()=>{try{t(!0);const d=await(await fetch(s)).json();l(d.data),t(!1)}catch{t(!1),n(!0)}})()},[s]),{loading:o,error:i,data:c}},y=({result:s})=>{var f,g,p,h;const o=e.useContext(C),t=S(),i=N();if(!o)return null;const{currentSongObj:n,tracks:c,setTracks:l,setSongIndex:x}=o,r=(g=(f=s.artists)==null?void 0:f.primary)==null?void 0:g.map(m=>` ${m.name}`).join(" ,"),d=r?i(r):"",j=e.useCallback(()=>{const m=c.findIndex(u=>u.id===s.id);!(m<0)?x(m):l([s])},[c]);return a.jsxs("div",{className:"SongCard",onClick:j,children:[a.jsxs("h3",{children:[a.jsx("div",{className:`imgWrapperInSongCard ${(n==null?void 0:n.id)==s.id?"playing":""}`,children:a.jsx("img",{src:((h=(p=s==null?void 0:s.image)==null?void 0:p[0])==null?void 0:h.url)||"../../music.png"})}),a.jsxs("div",{className:"names",children:[i(s.name),a.jsx("p",{children:d})]})]}),a.jsx("p",{className:"desktopView",children:d}),a.jsx("span",{children:t(s.duration||0)})]})};export{y as S,D as u};
